# Namada Proposals

## Proposal JSON
Field semantics are as follows:

- The `content` value should follow a standard format. 
We leverage a similar format to what is described in the [BIP2](https://github.com/bitcoin/bips/blob/master/bip-0002.mediawiki#bip-format-and-structure) document:

```json
{
    "title": "<text>",
    "authors": "<authors email addresses> ",
    "discussions-to": "<email address / link>",
    "created": "<date created on, in ISO 8601 (yyyy-mm-dd) format>",
    "license": "<abbreviation for approved license(s)>",
    "abstract": "<text>",
    "motivation": "<text>",
    "details": "<AIP number(s)> - optional field",
    "requires": "<AIP number(s)> - optional field",
}
```

The `Author` address field will be used to credit the locked funds if the proposal is approved.
The `ProposalType` imply different combinations of:
    - the optional wasm code attached to the proposal
    - which actors should be allowed to vote (delegators and validators or validators only)
    - the threshold to be used in the tally process
    - the optional payload (memo) attached to the vote

## Supported proposal types

At the moment, Namada supports 5 types of governance proposals:

```rust
pub enum ProposalType {
  /// Carries the optional proposal code path
  Default(Option<String>),
  StewardProposal,
  StewardFundingProposal,
  FundingProposal,
  ETHBridge,
}
```

`Default` represents a generic proposal with the following properties:

- Can carry a WASM code to be executed in case the proposal passes
- Allows both validators and delegators to vote
- Requires $\frac{2}{3}$ of the total voting power to succeed
- Doesn't expect any memo attached to the votes

`StewardProposal` is a proposal to change the StewardSet for _Public Goods Funding_:

- Doesn't carry any WASM code
- Allows both validators and delegators to vote
- Requires $\frac{1}{3}$ of the total voting power to vote
- Requires $\frac{1}{2}$ of the total votes to be `Yay`

`StewardFundingProposal` is a proposal to *conduct* _Public Goods Funding_ **by a steward**:
- Can only be submitted by PGF stewards
- Allows both validators and delegators to vote
- Passes by default **UNLESS** $\frac{1}{3}$ of the total voting power votes on the proposal, **AND** out of the votes, at least $\frac{1}{2}$ are `Nay`
- Causes the steward to lose steward status if $\frac{2}{3}$ of the total voting power votes on the proposal **AND** out of the votes, at least $\frac{2}{3}$ are `Nay`

`FundingProposal` is a proposal to *conduct* _Public Goods Funding_ **by anyone**:
- Allows both validators and delegators to vote
- Requires $\frac{1}{3}$ of the total voting power to vote
- Requires $\frac{1}{2}$ of the total votes to be `Yay`


`ETHBridge` is aimed at regulating actions on the bridge like the update of the Ethereum smart contracts or the withdrawing of all the funds from the `Vault` :

- Doesn't carry any wasm code
- Allows only validators to vote
- Requires $\frac{2}{3}$ of the total voting power to succeed
- Expect every vote to carry a memo in the form of a `Signature` over some bytes provided in the proposal

`PGFProposal` is a specific proposal to propose transfers for _Public Goods Funding_:
